apiversion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: Expense-Project
  region: ap-south-1

vpc:
  cidr: 10.0.0.0/16

managedNodeGroups:
  - name: exp-workers
    instanceType: t3.small
    capacityType: SPOT
    desiredCapacity: 3
    minSize: 2
    maxSize: 5

    labels:
      Project: expense
      Instances: spot-type
      Nodes: spot-nodes
    
    tags:
      Project: expense
      Instances: spot-type
      Nodes: spot-nodes

    iam:
      withAddonPolicies:
        autoScaler: true
        externalDNS: true
        ebs: true
        albIngress: true
    
    volumesize: 20
    ssh:
      allow: true
      publicKeyName: t3